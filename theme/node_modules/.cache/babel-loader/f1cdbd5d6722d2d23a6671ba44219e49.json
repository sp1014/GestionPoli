{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { userService } from '../../_services';\nimport router from '../../router/index';\nvar user = JSON.parse(localStorage.getItem('user'));\nvar initialState = user ? {\n  status: {\n    loggedIn: true\n  },\n  user: user\n} : {\n  status: {},\n  user: null\n};\nexport var authentication = {\n  namespaced: true,\n  state: initialState,\n  getters: {},\n  actions: {\n    login: function login(_ref, _ref2) {\n      var dispatch = _ref.dispatch,\n          commit = _ref.commit;\n      var username = _ref2.username,\n          passwordjwt = _ref2.passwordjwt;\n      commit('loginRequest', {\n        username: username\n      });\n      userService.login(username, passwordjwt).then(function (user) {\n        commit('loginSuccess', user);\n        router.push('/');\n      }, function (error) {\n        commit('loginFailure', error);\n        dispatch('alert/error', error, {\n          root: true\n        });\n      });\n    },\n    logout: function logout(_ref3) {\n      var commit = _ref3.commit;\n      userService.logout();\n      commit('logout');\n    }\n  },\n  mutations: {\n    loginRequest: function loginRequest(state, user) {\n      state.status = {\n        loggingIn: true\n      };\n      state.user = user;\n    },\n    loginSuccess: function loginSuccess(state, user) {\n      state.status = {\n        loggedIn: true\n      };\n      state.user = user;\n    },\n    loginFailure: function loginFailure(state) {\n      state.status = {};\n      state.user = null;\n    },\n    logout: function logout(state) {\n      state.status = {};\n      state.user = null;\n    }\n  }\n};","map":{"version":3,"names":["userService","router","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","authentication","namespaced","state","getters","actions","login","dispatch","commit","username","passwordjwt","then","push","error","root","logout","mutations","loginRequest","loggingIn","loginSuccess","loginFailure"],"sources":["C:/Users/user/Videos/FRONTTTTTT/vue/theme/src/store/modules/authentication.js"],"sourcesContent":["import { userService } from '../../_services';\nimport router from '../../router/index';\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user\n    ? { status: { loggedIn: true }, user }\n    : { status: {}, user: null };\n\nexport const authentication = {\n    namespaced: true,\n    state: initialState,\n    getters: {\n\n    },\n    actions: {\n        login({ dispatch, commit }, { username, passwordjwt }) {\n            commit('loginRequest', { username });\n            userService.login(username, passwordjwt)\n                .then(\n                    user => {\n                        commit('loginSuccess', user);\n                        router.push('/');\n                    },\n                    error => {\n                        commit('loginFailure', error);\n                        dispatch('alert/error', error, { root: true });\n                    }\n                );\n        },\n        logout({ commit }) {\n            userService.logout();\n            commit('logout');\n        }\n    },\n    mutations: {\n        loginRequest(state, user) {\n            state.status = { loggingIn: true };\n            state.user = user;\n        },\n        loginSuccess(state, user) {\n            state.status = { loggedIn: true };\n            state.user = user;\n        },\n        loginFailure(state) {\n            state.status = {};\n            state.user = null;\n        },\n        logout(state) {\n            state.status = {};\n            state.user = null;\n        }\n    }\n};"],"mappings":";AAAA,SAASA,WAAT,QAA4B,iBAA5B;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AAEA,IAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,IAAMC,YAAY,GAAGL,IAAI,GACnB;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA8BP,IAAI,EAAJA;AAA9B,CADmB,GAEnB;EAAEM,MAAM,EAAE,EAAV;EAAcN,IAAI,EAAE;AAApB,CAFN;AAIA,OAAO,IAAMQ,cAAc,GAAG;EAC1BC,UAAU,EAAE,IADc;EAE1BC,KAAK,EAAEL,YAFmB;EAG1BM,OAAO,EAAE,EAHiB;EAM1BC,OAAO,EAAE;IACLC,KADK,8BACkD;MAAA,IAA/CC,QAA+C,QAA/CA,QAA+C;MAAA,IAArCC,MAAqC,QAArCA,MAAqC;MAAA,IAAzBC,QAAyB,SAAzBA,QAAyB;MAAA,IAAfC,WAAe,SAAfA,WAAe;MACnDF,MAAM,CAAC,cAAD,EAAiB;QAAEC,QAAQ,EAARA;MAAF,CAAjB,CAAN;MACAlB,WAAW,CAACe,KAAZ,CAAkBG,QAAlB,EAA4BC,WAA5B,EACKC,IADL,CAEQ,UAAAlB,IAAI,EAAI;QACJe,MAAM,CAAC,cAAD,EAAiBf,IAAjB,CAAN;QACAD,MAAM,CAACoB,IAAP,CAAY,GAAZ;MACH,CALT,EAMQ,UAAAC,KAAK,EAAI;QACLL,MAAM,CAAC,cAAD,EAAiBK,KAAjB,CAAN;QACAN,QAAQ,CAAC,aAAD,EAAgBM,KAAhB,EAAuB;UAAEC,IAAI,EAAE;QAAR,CAAvB,CAAR;MACH,CATT;IAWH,CAdI;IAeLC,MAfK,yBAec;MAAA,IAAVP,MAAU,SAAVA,MAAU;MACfjB,WAAW,CAACwB,MAAZ;MACAP,MAAM,CAAC,QAAD,CAAN;IACH;EAlBI,CANiB;EA0B1BQ,SAAS,EAAE;IACPC,YADO,wBACMd,KADN,EACaV,IADb,EACmB;MACtBU,KAAK,CAACJ,MAAN,GAAe;QAAEmB,SAAS,EAAE;MAAb,CAAf;MACAf,KAAK,CAACV,IAAN,GAAaA,IAAb;IACH,CAJM;IAKP0B,YALO,wBAKMhB,KALN,EAKaV,IALb,EAKmB;MACtBU,KAAK,CAACJ,MAAN,GAAe;QAAEC,QAAQ,EAAE;MAAZ,CAAf;MACAG,KAAK,CAACV,IAAN,GAAaA,IAAb;IACH,CARM;IASP2B,YATO,wBASMjB,KATN,EASa;MAChBA,KAAK,CAACJ,MAAN,GAAe,EAAf;MACAI,KAAK,CAACV,IAAN,GAAa,IAAb;IACH,CAZM;IAaPsB,MAbO,kBAaAZ,KAbA,EAaO;MACVA,KAAK,CAACJ,MAAN,GAAe,EAAf;MACAI,KAAK,CAACV,IAAN,GAAa,IAAb;IACH;EAhBM;AA1Be,CAAvB"},"metadata":{},"sourceType":"module"}