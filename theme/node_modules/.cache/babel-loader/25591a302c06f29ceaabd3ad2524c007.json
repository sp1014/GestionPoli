{"ast":null,"code":"import \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport { db } from '@/main';\nvar state = {\n  todo: []\n}; // getters\n\nvar getters = {}; // mutations\n\nvar mutations = {\n  taskcomplete: function taskcomplete(state, payload) {\n    var updatestatus = '';\n    state.todo.find(function (list) {\n      if (list.id === payload) {\n        if (list.status === 'complete') {\n          updatestatus = 'incomplete';\n        } else if (list.status === 'incomplete') {\n          updatestatus = 'complete';\n        }\n      }\n    });\n    var updateRef = db.collection('todos').doc(payload);\n    updateRef.update({\n      status: updatestatus\n    });\n  },\n  alltaskcomplete: function alltaskcomplete(state, payload) {\n    var updatestatus = '';\n\n    if (payload) {\n      updatestatus = 'complete';\n    } else {\n      updatestatus = 'incomplete';\n    }\n\n    state.todo.forEach(function (list) {\n      var updateRef = db.collection('todos').doc(list.id);\n      updateRef.update({\n        status: updatestatus\n      });\n    });\n  },\n  tododelete: function tododelete(state, payload) {\n    db.collection('todos').doc(payload).delete();\n  },\n  addtodo: function addtodo(state, payload) {\n    db.collection('todos').add({\n      title: payload,\n      delete: false,\n      status: 'incomplete',\n      created: new Date()\n    });\n  },\n  retrieveTodos: function retrieveTodos(state, todos) {\n    state.todo = todos;\n  }\n}; // actions\n\nvar actions = {\n  retrieveTodos: function retrieveTodos(context) {\n    db.collection('todos').get().then(function (querySnapshot) {\n      var tempTodos = [];\n      querySnapshot.forEach(function (doc) {\n        // tempTodos.push(doc.data());\n        tempTodos.push({\n          id: doc.id,\n          title: doc.data().title,\n          delete: doc.data().delete,\n          status: doc.data().status,\n          created: doc.data().created\n        });\n      });\n      var tempTodosSorted = tempTodos.sort(function (a, b) {\n        return a.created.seconds - b.created.seconds;\n      });\n      context.commit('retrieveTodos', tempTodosSorted);\n    });\n  },\n  taskcomplete: function taskcomplete(context, payload) {\n    context.commit('taskcomplete', payload);\n  },\n  alltaskcomplete: function alltaskcomplete(context, payload) {\n    context.commit('alltaskcomplete', payload);\n  },\n  tododelete: function tododelete(context, payload) {\n    context.commit('tododelete', payload);\n  },\n  addtodo: function addtodo(context, payload) {\n    context.commit('addtodo', payload);\n  }\n};\nexport default {\n  namespaced: true,\n  state: state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n};","map":{"version":3,"names":["db","state","todo","getters","mutations","taskcomplete","payload","updatestatus","find","list","id","status","updateRef","collection","doc","update","alltaskcomplete","forEach","tododelete","delete","addtodo","add","title","created","Date","retrieveTodos","todos","actions","context","get","then","querySnapshot","tempTodos","push","data","tempTodosSorted","sort","a","b","seconds","commit","namespaced"],"sources":["C:/Users/user/Videos/FRONTTTTTT/vue/theme/src/store/modules/firebase_todo.js"],"sourcesContent":["import { db } from '@/main';\n\nconst state = {\n    todo : []\n};\n\n// getters\nconst getters = {\n\n};\n\n// mutations\nconst mutations = {\n    taskcomplete:(state,payload)=>{\n        var updatestatus = '';\n        state.todo.find(function (list) {\n            if (list.id === payload) {\n                if(list.status === 'complete'){\n                    updatestatus = 'incomplete';\n                } else if(list.status === 'incomplete'){\n                    updatestatus = 'complete';\n                }\n            }\n        });\n\n        const updateRef = db.collection('todos').doc(payload);\n        updateRef.update({ status:updatestatus });\n    },\n    alltaskcomplete:(state,payload)=>{\n        var updatestatus = '';\n        if(payload) {\n            updatestatus = 'complete';    \n        } else {\n            updatestatus = 'incomplete';\n        }\n        state.todo.forEach(function (list) {\n            const updateRef = db.collection('todos').doc(list.id);\n            updateRef.update({ status:updatestatus });\n        });\n    },\n    tododelete:(state,payload)=>{\n        db.collection('todos').doc(payload).delete();\n    },\n    addtodo:(state,payload)=>{\n        db.collection('todos').add({\n            title: payload,\n            delete: false,\n            status: 'incomplete',\n            created: new Date()\n        });\n    },\n    retrieveTodos(state,todos){\n        state.todo = todos;\n    }\n\n};\n\n// actions\nconst actions = {\n    retrieveTodos:(context)=>{\n        db.collection('todos').get()\n        .then((querySnapshot)=>{\n            var tempTodos = [];\n\n            querySnapshot.forEach((doc)=>{\n                // tempTodos.push(doc.data());\n                tempTodos.push({ id:doc.id, title:doc.data().title, delete:doc.data().delete, status:doc.data().status, created:doc.data().created });\n            });\n\n            var tempTodosSorted = tempTodos.sort((a,b)=>{\n                return a.created.seconds - b.created.seconds;\n            });\n\n            context.commit('retrieveTodos',tempTodosSorted);\n        });\n    },\n    taskcomplete:(context, payload) => {\n        context.commit('taskcomplete',payload);\n    },\n    alltaskcomplete:(context,payload) => {\n        context.commit('alltaskcomplete',payload);\n    },\n    tododelete:(context, payload) => {\n        context.commit('tododelete',payload);\n    },\n    addtodo:(context, payload) => {\n        context.commit('addtodo',payload);\n    }\n};\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}